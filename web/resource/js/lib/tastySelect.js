!function(i){"use strict";var e,r={selector:"select",mobileFix:!0,mask:"%",maskJoin:", ",ctrlKey:!1,search:!1,defaultText:"Select item...",classes:{outer:"style-select",title:"style-select-title",options:"style-select-options",label:"style-select-label",searchOuter:"style-select-search-outer",search:"style-select-search",optgroup:"style-select-optgroup",list:"style-select-list",item:"style-select-option",open:"st_open",selected:"st_selected",disabled:"st_disabled",mobile:"is_mobile",multiple:"is_multiple"},attributes:{index:"data-index",value:"data-value",selectReady:"data-tastyselect"}},o=(e={Android:function(){return!!navigator.userAgent.match(/Android/i)&&"android"},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)&&"blackberry"},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)&&"ios"},Opera:function(){return!!navigator.userAgent.match(/Opera Mini/i)&&"operamini"},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)&&"ie"},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}}).any();function y(e,t){e=document.createElement(e);return t&&g(e,t),e}function g(e,t){e.classList.add(t)}function u(e,t){e.classList.remove(t)}function s(e,t){Array.prototype.slice.call(e).forEach(t)}i.tastySelect=function(n){var l;s(document.querySelectorAll(n&&n.selector||r.selector),function(e){function s(e){for(var t,n,l=e.querySelector(f.selector),r=e.querySelector("."+m.options).querySelectorAll("."+m.item),e=e.querySelector("."+m.title),o=l.options,i=[],l=f.defaultText,s=0,c=r.length;s<c;s++)n=o[s],t=r[s],n.selected?(g(t,m.selected),i.push(n.text)):u(t,m.selected);i.length&&(l=f.mask.replace("$",i.length).replace("%",i.join(f.maskJoin))),e.innerHTML=l}function c(e,t){var n=e.getAttribute(v.index),e=e.closest("."+m.outer).querySelector(f.selector),l=e.options,n=l[n];if(!t)for(var r=0,o=l.length;r<o;r++)l[r].selected=!1;n.selected=!n.selected,"createEvent"in document?((t=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),e.dispatchEvent(t)):e.fireEvent("onchange"),n.dataset.url&&(i.location.href=n.dataset.url)}function a(e){e.classList.toggle(m.open)}var t,f,m,v;t=n,null===(e=e).getAttribute("data-tastyselect")&&(f=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},r,t),e.getAttribute("placeholder")&&(f.defaultText=e.getAttribute("placeholder")),m=f.classes,v=f.attributes,t=function(e){var t=y("div",m.outer),n=y("div",m.title),c=y("div",m.options),a=y("li",m.label),u=y("ul",m.optgroup),d=y("ul",m.list),p=y("li",m.item),l=y("div",m.searchOuter),r=y("input",m.search),h=e.options;o&&g(t,m.mobile);e.multiple&&g(t,m.multiple);e.disabled&&g(t,m.disabled);f.search&&(l.appendChild(r),c.appendChild(l));return t.appendChild(n),t.appendChild(c),function(){for(var e,t=null,n=null,l=d.cloneNode(!0),r=0,o=h.length;r<o;r++){var i=p.cloneNode(!0),s=h[r];t!=(n=s.parentNode.getAttribute("label"))&&(l&&c.appendChild(l),null==n?l=d.cloneNode(!0):(l=u.cloneNode(!0),(e=a.cloneNode(!0)).innerHTML=n,l.appendChild(e))),t=n,i.setAttribute(v.value,s.value),i.setAttribute(v.index,s.index),i.innerHTML=s.text,l.appendChild(i)}c.appendChild(l)}(),t}(e),f.mobileFix&&function(e){var t=y("optgroup");t.disabled=!0,t.hidden=!0,e.insertBefore(t,e.firstChild)}(e),function(e,t){var n=e.cloneNode(!0),l=e.parentNode;t.appendChild(n),l.insertBefore(t,e),l.removeChild(e)}(e,t),function(t){var n,l=t.querySelector(f.selector),e=t.querySelector("."+m.title),r=t.querySelector("."+m.options),o=t.querySelector("."+m.list).querySelectorAll("."+m.item),i=t.querySelector("."+m.search);l.setAttribute(v.selectReady,""),e.addEventListener("click",function(e){l.disabled||a(t)},!1),i&&i.addEventListener("input",function(e){n=function(e,t){var n=[];t=t.trim().toLowerCase();for(var l=0,r=e.length;l<r;l++)-1!==e[l].innerText.trim().toLowerCase().indexOf(t)?n.push(1):n.push(0);return n}(l.options,e.target.value),function(e,t){for(var n=0,l=e.length;n<l;n++)e[n].style.display=t[n]?"":"none"}(o,n)});l.addEventListener("change",function(e){s(t)},!1),r.addEventListener("click",function(e){var t=e.target.closest("."+m.item),n=e.target.closest("."+m.outer);t&&(n=n.querySelector(f.selector),f.ctrlKey&&n.multiple&&e.ctrlKey||n.multiple?c(t,!0):(c(t),a(t.closest("."+m.outer))))},!1)}(t),s(t))}),l=n&&n.classes&&n.classes.open||r.classes.open,document.body.addEventListener("click",function(e){var t=e.target.closest("."+l);s(document.querySelectorAll("."+l),function(e){t!==e&&u(e,l)})},!1)}}(window),function(e){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;e.matches=e.matchesSelector=t||function(e){var t=document.querySelectorAll(e),n=this;return Array.prototype.some.call(t,function(e){return e===n})}}(Element.prototype),function(e){e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype);