define([],function(){var e={user:{}};return e.user.browser=function(e,r,n){var o="visible";n&&n.mode&&(o=n.mode);var a="0";$.isArray(e)&&0<e.length&&(a=e.join()),$("#user-browser-dialog")[0]&&$("#user-browser-dialog").remove();var i="./index.php?c=utility&a=user&do=browser&callback=aMember&mode="+o+"&uids="+a,t=util.dialog("请选择用户","数据加载中......",'<button type="button" class="btn btn-default" data-dismiss="modal">取消</button><button type="button" class="btn btn-primary" style="display: none;">确认</button>',{containerName:"user-browser-dialog"});t.modal("show"),t.on("shown.bs.modal",function(){window.aMember.pIndex=1,window.aMember.query()}),t.find(".modal-footer .btn-primary").click(function(){var e=[],n=$(".user-browser .btn-primary");0<n.length&&(n.each(function(){e.push($(this).attr("js-uid"))}),$.isFunction(r)&&(r(e),t.modal("hide")))}),window.aMember={pIndex:1,query:function(){var e={keyword:$("#keyword").val(),page:aMember.pIndex,callback:"aMember",mode:o,uids:a};$.post(i,e,function(e){e.message&&0!=e.message.error&&(e=e.message.message),t.find(".modal-body").html(e),n.direct&&t.find(".js-btn-select").click(function(){t.find(".modal-footer .btn-primary").trigger("click")}),t.find(".pagination a").click(function(){window.aMember.pIndex=$(this).attr("page"),window.aMember.query()})})}}},e});